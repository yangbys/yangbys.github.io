
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
    
    
    
    
    <title>web app变革之rem | 杨标Blog</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    

    
    <!--<%- open_graph({twitter_id: theme.author.twitter, google_plus: theme.author.google_plus}) %>-->
    
    <meta name="description" content="page.description">
    
    <meta property="og:type" content="article">
    
    <meta property="og:title" content="web app变革之rem">
    <meta property="og:url" content="/webapp/2015/09/22/rem">
    <meta property="og:site_name" content="杨标Blog">
    <meta property="og:description" content="web app变革之rem。">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="web app变革之rem">
    <meta name="twitter:description" content="page.description">
    <meta name="twitter:creator" content="@">
    <link rel="publisher" href="">

    
    <link rel="alternative" href="/atom.xml" title="杨标Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/assets/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/assets/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/assets/img/jacman.jpg">
    

    <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/highlight.css" type="text/css">
</head>

  <body>
    <div id="header">
        <div class="header-content clearfix">

		    
			<div class="imglogo">
				<a href="/"><img src="/assets/img/author.jpg" alt="杨标Blog" title="杨标Blog"/></a>
			</div>
			

			<div class="textlogo">
				<h1 class="site-name"><a href="/" title="杨标Blog">杨标Blog</a></h1>
				<h2 class="blog-motto">生活因我而精彩!</h2>
			</div>

			<div class="nav animated">
				<ul class="navList clearfix">
					
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">分类</a></li>
					
						<li><a href="/categories">归档</a></li>
					
						<li><a href="/tags">标签</a></li>
					
						<li><a href="/about">关于Yangbys</a></li>
					
				</ul>
			</div>
</div>

    </div>
    <div id="container">
      





<div id="main" class="post" itemscope itemprop="blogPost">
	<div itemprop="articleBody">
	<div class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/webapp/2015/09/22/rem" title="web app变革之rem" itemprop="url">web app变革之rem</a>
  </h1>
  <p class="article-time">
    <time datetime="2015-09-22 00:00:00 +0800" itemprop="datePublished"> 发表于 2015-09-22</time>
  </p>
</div>

	<div class="article-content">
		<h2 id="rem">rem确实做自适应相当好用…..</h2>

<p>(开发前可以先用PX来定义元素的大小宽高，到发布的时候用转换工具转成PX)</p>

<p><strong>CSS</strong></p>

<pre><code>html {font-size:20px}
.header {padding:0.5rem 0.25rem 1rem;}
.footer {padding-top: 0.75rem;} //等等
</code></pre>

<p><strong>JS</strong></p>

<pre><code>&lt;script&gt;
    (function (doc, win) {
      var docEl = doc.documentElement,
        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
        recalc = function () {
          var clientWidth = docEl.clientWidth;
          if (!clientWidth) return;
          docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';
        };
      if (!doc.addEventListener) return;
      win.addEventListener(resizeEvt, recalc, false);
      doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);
&lt;/script&gt;
</code></pre>

<p><strong>//最后付上一个转换工具(完成)</strong></p>

<ul>
  <li>最近做了一款px转rem的工具，可以帮助各位免去换算rem的烦恼，切页面的时候按照px去切，最后在丢到工具里面去，会自动将样式表里面的px转成rem。
工具地址：http://520ued.com/tools/rem</li>
</ul>

<p><strong>rem是什么？</strong>
    rem（font size of the root element）是指相对于根元素的字体大小的单位。简单的说它就是一个相对单位。看到rem大家一定会想起em单位，em（font size of the element）是指相对于父元素的字体大小的单位。它们之间其实很相似，只不过一个计算的规则是依赖根元素一个是依赖父元素计算。</p>

<p><strong>为什么web app要使用rem？</strong>
    这里我特别强调web app，web page就不能使用rem吗，其实也当然可以，不过出于兼容性的考虑在web app下使用更加能突显这个单位的价值和能力，接下来我们来看看目前一些企业的web app是怎么做屏幕适配的。</p>

<h2 id="section">1、实现强大的屏幕适配布局：</h2>

<p>最近iphone6一下出了两款尺寸的手机，导致的移动端的屏幕种类更加的混乱，记得一两年前做web app有一种做法是以320宽度为标准去做适配，超过320的大小还是以320的规格去展示，这种实现方式以淘宝web app为代表作，但是近期手机淘宝首页进行了改版，采用了rem这个单位，首页以内依旧是和以前一样各种混乱，有定死宽度的页面，也有那种流式布局的页面。</p>

<p>我们现在在切页面布局的使用常用的单位是px，这是一个绝对单位，web app的屏幕适配有很多中做法，例如：流式布局、限死宽度，还有就是通过响应式来做，但是这些方案都不是最佳的解决方法。</p>

<p>例如流式布局的解决方案有不少弊端，它虽然可以让各种屏幕都适配，但是显示的效果极其的不好，因为只有几个尺寸的手机能够完美的显示出视觉设计师和交互最想要的效果，但是目前行业里用流式布局切web app的公司还是挺多的，看看下面我收集的一些案例：</p>

<p><strong>1.亚马逊：</strong>
<img src="/assets/image/a3.jpg" alt="" /></p>

<p><strong>2.携程：</strong>
<img src="/assets/image/a1.jpg" alt="" /></p>

<p><strong>3.兰亭</strong>
<img src="/assets/image/a2.jpg" alt="" /></p>

<p>上面的网站都是采用的流式布局的技术实现的，他们在页面布局的时候都是通过百分比来定义宽度，但是高度大都是用px来固定住，所以在大屏幕的手机下显示效果会变成有些页面元素宽度被拉的很长，但是高度还是和原来一样，实际显示非常的不协调，这就是流式布局的最致命的缺点，往往只有几个尺寸的手机下看到的效果是令人满意的，其实很多视觉设计师应该无法接受这种效果，因为他们的设计图在大屏幕手机下看到的效果相当于是被横向拉长来一样。</p>

<pre><code>流式布局并不是最理想的实现方式，通过大量的百分比布局，会经常出现许多兼容性的问题，还有就是对设计有很多的限制，因为他们在设计之初就需要考虑流式布局对元素造成的影响，只能设计横向拉伸的元素布局，设计的时候存在很多局限性。
</code></pre>

<h2 id="section-1">2.固定宽度做法</h2>

<p>还有一种是固定页面宽度的做法，早期有些网站把页面设置成320的宽度，超出部分留白，这样做视觉，前端都挺开心，视觉在也不用被流式布局限制自己的设计灵感了，前端也不用在搞坑爹的流式布局。但是这种解决方案也是存在一些问题，例如在大屏幕手机下两边是留白的，还有一个就是大屏幕手机下看起来页面会特别小，操作的按钮也很小，手机淘宝首页起初是这么做的，但近期改版了，采用了rem。</p>

<h2 id="section-2">3.响应式做法</h2>

<p>响应式这种方式在国内很少有大型企业的复杂性的网站在移动端用这种方法去做，主要原因是工作大，维护性难，所以一般都是中小型的门户或者博客类站点会采用响应式的方法从web page到web app直接一步到位，因为这样反而可以节约成本，不用再专门为自己的网站做一个web app的版本。</p>

<h2 id="viewport">4.设置viewport进行缩放</h2>

<p>天猫的web app的首页就是采用这种方式去做的，以320宽度为基准，进行缩放，最大缩放为320*1.3 = 416，基本缩放到416都就可以兼容iphone6 plus的屏幕了，这个方法简单粗暴，又高效。说实话我觉得他和用接下去我们要讲的rem都非常高效，不过有部分同学使用过程中反应缩放会导致有些页面元素会糊的情况。
    <meta name="viewport" content="width=320,maximum-scale=1.3,user-scalable=no" /></p>

<h2 id="rem-1">rem能等比例适配所有屏幕</h2>

<p>上面讲了一大堆目前大部分公司主流的一些web app的适配解决方案，接下来讲下rem是如何工作的。</p>

<p>上面说过rem是通过根元素进行适配的，网页中的根元素指的是html我们通过设置html的字体大小就可以控制rem的大小。举个例子：</p>

<pre><code>html{
    font-size:20px;
}
.btn {
    width: 6rem;
    height: 3rem;
    line-height: 3rem;
    font-size: 1.2rem;
    display: inline-block;
    background: #06c;
    color: #fff;
    border-radius: .5rem;
    text-decoration: none;
    text-align: center;
}
</code></pre>

<p>上面代码结果按钮大小如下图：
<img src="/assets/image/a4.jpg" alt="" />
我把html设置成10px是为了方便我们计算，为什么6rem等于60px。如果这个时候我们的.btn的样式不变，我们再改变html的font-size的值，看看按钮发生上面变化:</p>

<p>html{font-size:40px;}</p>

<p>按钮大小结果如下：
<img src="/assets/image/a5.jpg" alt="" />
上面的width，height变成了上面结果的两倍，我们只改变了html的font-size，但.btn样式的width,height的rem设置的属性不变的情况下就改变了按钮在web中的大小。</p>

<p>其实从上面两个案例中我们就可以计算出1px多少rem:</p>

<p>第一个例子：</p>

<pre><code>120px = 6rem * 20px(根元素设置大值)
</code></pre>

<p>第二个例子：</p>

<pre><code>240px = 6rem * 40px(根元素设置大值)
</code></pre>

<p>推算出：</p>

<pre><code>10px  = 1rem 在根元素（font-size = 10px的时候）；

20px  = 1rem 在根元素（font-size = 20px的时候）；

40px  = 1rem 在根元素（font-size = 40px的时候）；
</code></pre>

<p>在上面两个例子中我们发现第一个案例按钮是等比例放大到第二个按钮，html font-size的改变就会导致按钮的大小发生改变，我们并不需要改变先前给按钮设置的宽度和高度，其实这就是我们最想看到的，为什么这么说？接下来我们再来看一个例子：
<img src="/assets/image/a6.jpg" alt="" /></p>

<p>由上面两个的demo中我们知道改变html的font-size可以等比改变所有用了rem单位的元素，所以大家可以通过chrome浏览器的调试工具去切换第三个的demo在不同设备下的展示效果，或者通过缩放浏览器的宽度来查看效果，我们可以看到不管在任何分辨率下，页面的排版都是按照等比例进行切换，并且布局没有乱。我只是通过一段js根据浏览器当前的分辨率改变font-size的值，就简单的实现了上面的效果，页面的所有元素都不需要进行任何改变。</p>

<p>到这里肯定有很多人会问我是怎么计算出不同分辨率下font-size的值？</p>

<p>首先假设我上面的页面设计稿给我时候是按照640的标准尺寸给我的前提下，（当然这个尺寸肯定不一定是640，可以是320，或者480，又或是375）来看一组表格。
<img src="/assets/image/a7.jpg" alt="" /></p>

<p>上面的表格蓝色一列是Demo3中页面的尺寸，页面是以640的宽度去切的，怎么计算不同宽度下font-site的值，大家看表格上面的数值变化应该能明白。举个例子：384/640 = 0.6，384是640的0.6倍，所以384页面宽度下的font-size也等于它的0.6倍，这时384的font-size就等于12px。在不同设备的宽度计算方式以此类推。</p>

<p>Demo3中我是通过JS去动态计算根元素的font-size，这样的好处是所有设备分辨率都能兼容适配，淘宝首页目前就是用的JS计算。但其实不用JS我们也可以做适配，一般我们在做web app都会先统计自己网站有哪些主流的屏幕设备，然后去针对那些设备去做media query设置也可以实现适配，例如下面这样：</p>

<pre><code>html {
    font-size : 20px;
}
@media only screen and (min-width: 401px){
    html {
        font-size: 25px !important;
    }
}
@media only screen and (min-width: 428px){
    html {
        font-size: 26.75px !important;
    }
}
@media only screen and (min-width: 481px){
    html {
        font-size: 30px !important;
    }
}
@media only screen and (min-width: 569px){
    html {
        font-size: 35px !important;
    }
}
@media only screen and (min-width: 641px){
    html {
        font-size: 40px !important;
    }
}
</code></pre>

	</div>
	</div>
	
<div class="article-nav clearfix">
 
 <div class="prev pageBtn" >
 <a href="/yangbys/2015/09/20/create-blog" title="yangbys.github.io 博客正式开通啦！">
  <strong>上一篇：</strong><br/>
  <span>
  yangbys.github.io 博客正式开通啦！</span>
</a>
</div>


<div class="next pageBtn">
<a href="/webapp/2015/10/10/uc-fontSize"  title="UC浏览器 默认字体放大的坑">
 <strong>下一篇：</strong><br/>
 <span>UC浏览器 默认字体放大的坑
</span>
</a>
</div>

</div>


	

</div>


    </div>
    <div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="info">
		<p> @2016 Yangbys. <br/><br/>
			Email: yangbys@126.com</p>
	</div>
	 

</div>

    <script src="/assets/js/jquery-2.0.3.min.js"></script>


<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/assets/img/scrollup.png"/></a>
	</div>
	<script src="/assets/js/totop.js"></script>

<!-- Totop End -->

  </body>
</html>

